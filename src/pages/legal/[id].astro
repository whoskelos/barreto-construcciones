---
import { getEntry, render } from "astro:content";
import Layout from "../../layouts/Layout.astro";

export const prerender = false;

// En modo server, obtenemos el entry din√°micamente
const { id } = Astro.params;

if (!id) {
    return Astro.redirect('/404');
}

const doc = await getEntry("legal", id);

if (!doc) {
    return Astro.redirect('/404');
}

const { data } = doc;
const { title } = data;

const { Content } = await render(doc);
---

<Layout title={title}>
    <section class="max-w-4xl mx-auto prose p-8">
        <h1
            class="text-3xl sm:text-4xl md:text-5xl max-w-4xl mx-auto text-neutral-900 font-bold mb-8"
        >
            {title}
        </h1>
        <Content />
    </section>
</Layout>
